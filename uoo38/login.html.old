<!DOCTYPE html>
<html>
	<head>
		<meta charset='utf-8'>
		<title>Login</title>
	</head>

	<body>
		<table>
			<tr>
				<td>ID</td>
				<td><input type="text" id="id"></td>
			</tr>

			<tr>
				<td>パスワード</td>
				<td><input type="password" id="pass"></td>
				<td><input type="submit" id="btn" value="submit"></td>
			</tr>
		</table>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>
    <script src="/socket.io/socket.io.js"></script>
		<script>
		 $(function() {
			 var socket = io.connect();

			 $('#btn').click(function() {
				 var id   = $('#id').val();
				 var pass = $('#pass').val();

				 socket.json.emit('login', {
					 id: id,
					 password: pass
				 });

				 socket.on('reply login', function(data) {
					 if(data)
						 alert("ログインに成功しました");
					 else
						 alert("IDまたはパスワードが間違っています");
				 });
			 });
		 });
		</script>
	</body>
</html>
